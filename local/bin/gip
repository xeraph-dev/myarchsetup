#!/bin/bash

$hostname = "/usr/bin/hostname"

ip=$(curl --silent api.ipify.org)

if [[ $ip =~ ^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$ ]]; then
    echo $ip
else
    if [ -d $hostname ]
    echo $($hostname -i)
fi